import sqlite3
import datetime
import matplotlib.pyplot as plt

#Creating Database
conn = sqlite3.connect('ncov.db') 
c = conn.cursor()

#Creating table
c.execute('CREATE TABLE IF NOT EXISTS nCOVrecovery(dtr TEXT,pr INT, indr INT)')
#except:
 #   print("Table already created")

now = datetime.datetime.now()
#c.execute("INSERT INTO nCOVrecovery VALUES('6A', 328,0)")
#c.execute("INSERT INTO nCOVrecovery VALUES('7A', 382,1)")
#c.execute("INSERT INTO nCOVrecovery VALUES('8A', 468,2)")
#c.execute("INSERT INTO nCOVrecovery VALUES('9A', 506,3)")
#c.execute("INSERT INTO nCOVrecovery VALUES('10A', 645,4)")
#c.execute("INSERT INTO nCOVrecovery VALUES('11A', 840,5)")
#c.execute("INSERT INTO nCOVrecovery VALUES('12A', 951,6)")
#c.execute("INSERT INTO nCOVrecovery VALUES('13A', 1052,7)")
#c.execute("INSERT INTO nCOVrecovery VALUES('14A', 1205,8)")
#c.execute("INSERT INTO nCOVrecovery VALUES('15A', 1509,9)")
#c.execute("INSERT INTO nCOVrecovery VALUES('16A', 1767,10)")
#c.execute("INSERT INTO nCOVrecovery VALUES('17A', 2040,11)")
#c.execute("INSERT INTO nCOVrecovery VALUES('18A', 2466,12)")
#c.execute("INSERT INTO nCOVrecovery VALUES('19A', 2854,13)")
#c.execute("INSERT INTO nCOVrecovery VALUES('20A', 3276,14)")
#c.execute("INSERT INTO nCOVrecovery VALUES('21A', 3976,15)")
#c.execute("INSERT INTO nCOVrecovery VALUES('22A', 4370,16)")
#c.execute("INSERT INTO nCOVrecovery VALUES('23A', 5012,17)")
#c.execute("INSERT INTO nCOVrecovery VALUES('24A', 5496,18)")
#c.execute("INSERT INTO nCOVrecovery VALUES('25A', 5938,19)")
#c.execute("INSERT INTO nCOVrecovery VALUES('26A', 6523,20)")
#c.execute("INSERT INTO nCOVrecovery VALUES('27A', 7103,21)")
#c.execute("INSERT INTO nCOVrecovery VALUES('28A', 7739,22)")
#c.execute("INSERT INTO nCOVrecovery VALUES('29A', 8429,23)")
#c.execute("INSERT INTO nCOVrecovery VALUES('30A', 9059,24)")
#c.execute("INSERT INTO nCOVrecovery VALUES('1M', 10021,25)")
#c.execute("INSERT INTO nCOVrecovery VALUES('2M', 10852,26)")
#c.execute("INSERT INTO nCOVrecovery VALUES('3M', 11446,27)")
#c.execute("INSERT INTO nCOVrecovery VALUES('4M', 12001,28)")
#c.execute("INSERT INTO nCOVrecovery VALUES('5M', 12845,29)")
#c.execute("INSERT INTO nCOVrecovery VALUES('6M', 14140,30)")
#c.execute("INSERT INTO nCOVrecovery VALUES('7M', 15301,31)")
#c.execute("INSERT INTO nCOVrecovery VALUES('8M', 16776,32)")
#c.execute("INSERT INTO nCOVrecovery VALUES('9M', 17887,33)")
#c.execute("INSERT INTO nCOVrecovery VALUES('10M', 19301,34)")
#c.execute("INSERT INTO nCOVrecovery VALUES('11M', 20970,35)")
#c.execute("INSERT INTO nCOVrecovery VALUES('12M', 22549,36)")
#c.execute("INSERT INTO nCOVrecovery VALUES('13M', 24454,37)")
#c.execute("INSERT INTO nCOVrecovery VALUES('14M', 26417,38)")
#c.execute("INSERT INTO nCOVrecovery VALUES('15M', 28011,39)")
#c.execute("INSERT INTO nCOVrecovery VALUES('16M', 30245,40)")
#c.execute("INSERT INTO nCOVrecovery VALUES('17M', 34257,41)")
#c.execute("INSERT INTO nCOVrecovery VALUES('18M', 36795,42)")
#c.execute("INSERT INTO nCOVrecovery VALUES('19M', 39277,43)")
#c.execute("INSERT INTO nCOVrecovery VALUES('20M', 42309,44)")
#c.execute("INSERT INTO nCOVrecovery VALUES('21M', 45442,45)")
#c.execute("INSERT INTO nCOVrecovery VALUES('22M', 48553,46)")
#c.execute("INSERT INTO nCOVrecovery VALUES('23M', 51833,47)")
#c.execute("INSERT INTO nCOVrecovery VALUES('24M', 54409,48)")
#c.execute("INSERT INTO nCOVrecovery VALUES('25M', 57694,49)")
#c.execute("INSERT INTO nCOVrecovery VALUES('26M', 60706,50)")
#c.execute("INSERT INTO nCOVrecovery VALUES('27M', 64291,51)")
#c.execute("INSERT INTO nCOVrecovery VALUES('28M', 67725,52)")
#c.execute("INSERT INTO nCOVrecovery VALUES('29M', 70896,53)")
#c.execute("INSERT INTO nCOVrecovery VALUES('30M', 82631,54)")
#c.execute("INSERT INTO nCOVrecovery VALUES('31M', 86934,55)")
#c.execute("INSERT INTO nCOVrecovery VALUES('1J', 91862,56)")
#c.execute("INSERT INTO nCOVrecovery VALUES('2J', 95774,57)")
#c.execute("INSERT INTO nCOVrecovery VALUES('3J', 100275,58)")
#c.execute("INSERT INTO nCOVrecovery VALUES('4J', 104064,59)")
#c.execute("INSERT INTO nCOVrecovery VALUES('5J', 108454,60)")
#c.execute("INSERT INTO nCOVrecovery VALUES('6J', 113224,61)")
#c.execute("INSERT INTO nCOVrecovery VALUES('7J', 118657,62)")
#c.execute("INSERT INTO nCOVrecovery VALUES('8J', 123848,63)")
#c.execute("INSERT INTO nCOVrecovery VALUES('9J', 129019,64)")
#c.execute("INSERT INTO nCOVrecovery VALUES('10J', 134653,65)")
#c.execute("INSERT INTO nCOVrecovery VALUES('11J', 140928,66)")
#c.execute("INSERT INTO nCOVrecovery VALUES('12J', 146972,67)")
#c.execute("INSERT INTO nCOVrecovery VALUES('19A', 2854,13)")
c.execute("DELETE FROM nCOVrecovery WHERE dtr='13J'")
conn.commit()
x_recovery=[]
y_recovery=[]
indexing_r=[]
c.execute("SELECT * FROM nCOVrecovery")
for i in c.fetchall():
    print(i[0],i[1],i[2])
    y_recovery.append(i[0])
    x_recovery.append(i[1])
    indexing_r.append(i[2])
plt.title("Number of Recovey")
#plt.rcParams.update({'font.size': 5})
plt.xticks(indexing_r,y_recovery,fontsize=5)
plt.plot(y_recovery,x_recovery,"navy")
plt.scatter(y_recovery,x_recovery)
plt.xlabel("Date")
plt.ylabel("Number of Recovered")
print("Length of Table:",len(x_recovery))
plt.grid(True)
plt.show()   
c.close()
conn.close()
